<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Passion+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">
    <title>PuzzleAppCademy</title>
    <link rel="stylesheet" type="text/css" href="./css/main.css">
  </head>

  <body>
    <div id="title"><h1 id="puzzle">PUZZLE</h1> <h1 id="and">APP</h1> <h1 id="dragons">CADEMY</h1></div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="./kinetic-v5.1.0.js"> </script>
    <script src="./kinetic-v5.1.0.min.js"> </script>
    <script src="./js/bundle.js"></script>
    <div id="game group">
      <div id="game-board" onclick="beginGame()">
        <div id="game-play">
        </div>
        <div id="game-bg">
          <canvas id="board" height="424" width="624"></canvas>
        </div>
      </div>
      <div id="game-sidebar group">
        <div id="instructions">
          <h2>How to play</h2>
          <p id="rule">∞ Click on an orb on the board to hold it</p>
          <p id="rule">∞ Move the orb around the board to swap with other orbs</p>
          <p id="rule">∞ Match 3 or more of the same type horizontally and/or vertically</p>
          <p id="rule">∞ The more you match at once, the higher your score</p>
          <p id="rule">∞ You have 2 minutes per round. Good luck!</p>
        </div>
        <div id="score-timer">
          <p id="rule">Score:</p>
          <div id="score">
            <script>

            </script>
          </div>
          <p>•</p>
          <p id="rule">Time:</p>
          <div id="timer">
            <span class="seconds"></span>
          </div>
        </div>
      </div>
    </div>
    <script>
      window.onload = function () {
      }
      function beginGame() {
        if (!window.gameStarted) {
          window.gameStarted = true;
          let countdown = 5;
          gameStart('timer', countdown);
        }
      }

      function gameStart(id, countdown) {
        this.countdown = countdown;
        let timer = document.getElementById(id);
        let secondsSpan = timer.querySelector('.seconds');

        function updateClock() {
          if (!window.gameEnd){
            countdown -= 1;
            secondsSpan.innerHTML = (countdown)
            console.log(countdown);
            if (countdown <= 0) {
              window.gameEnd = true;
              console.log(window.gameEnd === true);
            }
          }
        }
        if (!window.gameEnd){
          updateClock();
          let timing = setInterval(updateClock, 1000);
        }
      }
    </script>
  </body>
</html>
