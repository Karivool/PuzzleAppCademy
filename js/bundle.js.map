{"version":3,"sources":["webpack:///webpack/bootstrap 10d0959457dbe625f29e","webpack:///./js/main.js","webpack:///./js/pac-view.js","webpack:///./js/orb_object.js","webpack:///./js/game.js","webpack:///./js/board.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC;;;;;;;ACfD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,sBAAqB,+BAA+B;AACpD;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,YAAY;AACpC;AACA;;AAEA;AACA;;AAEA;AACA,yBAAwB,YAAY;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAsD,OAAO,EAAE,OAAO;AACtE,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAgC,iBAAiB,mBAAmB,QAAQ;AAC5E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,iBAAiB,mBAAmB,QAAQ;AACjF;AACA,SAAQ;AACR;;AAEA;;AAEA,sBAAqB,wBAAwB;AAC7C,wBAAuB,6BAA6B;AACpD;;AAEA;AACA,iCAAgC,IAAI,EAAE,IAAI;AAC1C;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,wBAAwB;AAC7C,wBAAuB,6BAA6B;AACpD,uBAAsB,IAAI,EAAE,IAAI;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 10d0959457dbe625f29e\n **/","const BoardView = require('./pac-view.js');\nconst Game = require('./game.js');\n\ndocument.addEventListener(\"DOMContentLoaded\",\nfunction() {\n  const canvas =\n  document.getElementsByTagName(\"canvas\")[0];\n  const ctx = canvas.getContext(\"2d\");\n  const stage = new Kinetic.Stage({\n    container: 'game-board',\n    width: 604,\n    height: 494,\n  });\n  const game = new Game();\n  const board = new BoardView(stage, game, ctx);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","const OrbObject = require('./orb_object.js');\n\n// 356 356 35697 45752 1241\n// 356 356 35697 45752 1241\n\nclass BoardView {\n  constructor(stage, gameBoard, ctx) {\n    this.stage = stage;\n    this.gameBoard = gameBoard;\n    this.ctx = ctx;\n    this.orbs = [[], [], [], [], []];\n    this.orbCanvases = [];\n    this.moving = false;\n    this.setupBoard();\n    this.renderImages();\n    window.orbs = this.hashOrbs(this.orbs);\n    window.stage = this.stage;\n  }\n\n  renderImages () {\n\n    this.orbData = [].concat.apply([], this.orbs);\n\n    for (let orb = 0; orb < this.orbCanvases.length; orb++) {\n      let orbCanvas = this.orbCanvases[orb];\n      this.createImage(orbCanvas, this.orbData[orb]);\n    }\n  }\n\n  setupBoard () {\n    for (let colIdx = 0; colIdx < 5; colIdx++) {\n      this.addRow(colIdx);\n    }\n\n    this.renderBoard();\n  }\n\n  addRow (colIdx) {\n    for (let rowIdx = 0; rowIdx < 6; rowIdx++) {\n      let orbType = Math.round(Math.random() * 5);\n      let src;\n      let orbColor;\n\n      if (orbType === 0) {\n          orbType = \"orb-fire\";\n          src = \"./img/fire.png\";\n          orbColor = \"#990000\";\n        } else if (orbType === 1) {\n          orbType = \"orb-water\";\n          src = \"./img/water.png\";\n          orbColor = \"#112288\";\n        } else if (orbType === 2) {\n          orbType = \"orb-wood\";\n          src = \"./img/wood.png\";\n          orbColor = \"#005544\";\n        } else if (orbType === 3) {\n          orbType = \"orb-light\";\n          src = \"./img/light.png\";\n          orbColor = \"#776611\";\n        } else if (orbType === 4) {\n          orbType = \"orb-dark\";\n          src = \"./img/dark.png\";\n          orbColor = \"#772299\";\n        } else {\n          orbType = \"orb-heart\";\n          src = \"./img/heart.png\";\n          orbColor = \"#dd2277\";\n      }\n      let orbject = new Kinetic.Circle({\n        x: (rowIdx + 0.5) * 100, y: (colIdx + 0.5) * 100,\n        width: 100, height: 100,\n        fill: orbColor, draggable: true, orbId: `orb${colIdx}${rowIdx}`\n      });\n      orbject.on(\"mousedown\", this.handleMouseDown);\n      orbject.on(\"mouseup\", this.handleMouseUp);\n      orbject.on(\"mouseout\", this.handleMouseOut);\n      orbject.on(\"mousemove\", this.handleMouseMove);\n\n      this.orbs[colIdx].push(orbject);\n    }\n  }\n\n  doLoad (orbCtx, img, x, y) {\n    console.log(`Current orb: ${orbCtx.canvas.id} || Drawing orb: ${img.src}`);\n    orbCtx.drawImage(img, x, y);\n  }\n\n  createImage(orbCanvas, thisOrb) {\n    // let canvas = document.getElementById(orbCanvas);\n    // let orbCtx = canvas.getContext(\"2d\");\n    // let x = thisOrb.pos[0];\n    // let y = thisOrb.pos[1];\n    // let img = new Image();\n    // let color = thisOrb.color;\n    // img.src = thisOrb.img;\n    // img.onload = function () {\n    //   console.log(`Current orb: ${orbCtx.canvas.id} || Drawing orb: ${img.src}`);\n    //   orbCtx.drawImage(img, x, y);\n    // }.bind(null, orbCtx, img, x, y);\n  }\n\n  renderBoard () {\n\n    for (let row = 0; row < this.orbs.length; row++) {\n      for (let orb = 0; orb < this.orbs[row].length; orb++) {\n        let layer = new Kinetic.Layer();\n\n        // let orbCanvas = document.createElement(\"canvas\");\n        // orbCanvas.id = `orb${row}${orb}`;\n        // orbCanvas.width = 100;\n        // orbCanvas.height = 100;\n\n        // let div = document.getElementById(\"game-play\");\n        // let orbCtx = orbCanvas.getContext(\"2d\");\n\n        layer.add(this.orbs[row][orb]);\n\n        // this.orbCanvases.push(orbCanvas.id);\n        this.stage.add(layer);\n      }\n    }\n  }\n\n  hashOrbs(orbs) {\n    let allOrbs = {};\n    for (let row = 0; row < this.orbs.length; row++) {\n      for (let orb = 0; orb < this.orbs[row].length; orb++) {\n        allOrbs[`orb${row}${orb}`] = orbs[row][orb];\n      }\n    }\n    return allOrbs;\n  }\n\n  handleMouseDown (e) {\n    window.currentOrb = window.orbs[e.target.attrs.orbId];\n    window.newX = e.target.attrs.x;\n    window.newY = e.target.attrs.y;\n  }\n\n  handleMouseUp (e) {\n    window.currentOrb.x(window.newX);\n    window.currentOrb.y(window.newY);\n    window.currentOrb.parent.clear();\n    window.currentOrb.parent.draw();\n    window.currentOrb.draw();\n    window.currentOrb = undefined;\n  }\n\n  handleMouseOut (e) {\n  }\n\n  handleMouseMove (e) {\n    console.log(e.target.attrs.orbId);\n\n    if (window.currentOrb !== undefined && (window.currentOrb.attrs.orbId !== e.target.attrs.orbId)) {\n      let targOrbX = e.target.attrs.x;\n      let targOrbY = e.target.attrs.y;\n      // This is the target orb that's being changed's value\n      // We're storing this in targOrb\n\n      e.target.x(window.newX);\n      e.target.y(window.newY);\n      e.target.parent.clear();\n      e.target.parent.draw();\n      e.target.draw();\n\n      // Here we have the previously set current orb's position becoming\n      // the target orb's position\n\n      window.newX = targOrbX;\n      window.newY = targOrbY;\n      // Now that the move is made, we can set the newX and Y to be the\n      // target orb's position once mouseup\n    }\n  }\n}\n\n\nmodule.exports = BoardView;\n\n// When the mouse event's position enters the second orb? If yes, hit test the mouse vs every non-dragging orb:\n// // pseudo-code -- make this test for every non-dragging orb\n// var dx=mouseX-orb[n].x;\n// var dy=mouseY-orb[n].y;\n// if(dx*dx+dy*dy<orb[n].radius){\n//     // change orb[n]'s x,y to the dragging orb's x,y (and optionally re-render)\n// }\n// When the dragging orb intersects the second orb? If yes, collision test the dragging orb vs every non-dragging orb:\n// // pseudo-code -- make this test for every non-dragging orb\n// var dx=orb[draggingIndex].x-orb[n].x;\n// var dy=orb[draggingIndex].y-orb[n].y;\n// var rSum=orb[draggingIndex].radius+orb[n].radius;\n// if(dx*dx+dy*dy<=rSum*rSum){\n//     // change orb[n]'s x,y to the dragging orb's x,y (and optionally re-render)\n// }\n// BTW, if you drag an orb over all other orbs, the other orbs will all stack on the dragging orbs original position -- is that what you want?\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/pac-view.js\n ** module id = 1\n ** module chunks = 0\n **/","\nclass OrbObject {\n  constructor(params) {\n    this.pos = params.pos;\n    this.color = params.color;\n    this.img = params.img;\n    this.dragging = false;\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nmodule.exports = OrbObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/orb_object.js\n ** module id = 2\n ** module chunks = 0\n **/","const Board = require(\"./board\");\n\nfunction Game () {\n  this.board = new Board();\n}\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 3\n ** module chunks = 0\n **/","\nfunction Board () {\n  this.grid = Board.makeGrid();\n}\n\nBoard.makeGrid = function() {\n  return [];\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}