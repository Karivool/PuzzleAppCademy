{"version":3,"sources":["webpack:///webpack/bootstrap ea1c18a9c675f7e8294d","webpack:///./js/main.js","webpack:///./js/pac-view.js","webpack:///./js/orb_object.js","webpack:///./js/game.js","webpack:///./js/board.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,sBAAqB,2BAA2B;AAChD;AACA;AACA;;AAEA;AACA,yBAAwB,YAAY;AACpC;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,YAAY;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,OAAO,EAAE,OAAO;AACrC,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,sBAAqB,wBAAwB;AAC7C,wBAAuB,6BAA6B;AACpD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA,sBAAqB,OAAO;AAC5B,wBAAuB,OAAO;AAC9B,6BAA4B,EAAE,EAAE,EAAE;AAClC,6BAA4B,EAAE,EAAE,EAAE;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B,wBAAuB,SAAS;AAChC,oBAAmB;AACnB;AACA;AACA;AACA,yBAAwB,SAAS;AACjC,2BAA0B,SAAS;AACnC,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,gBAAgB,cAAc,eAAe;AAC3E;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;;;;;;;ACpRA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACLA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ea1c18a9c675f7e8294d\n **/","const BoardView = require('./pac-view.js');\nconst Game = require('./game.js');\n\ndocument.addEventListener(\"DOMContentLoaded\",\nfunction() {\n  const canvas =\n  document.getElementsByTagName(\"canvas\")[0];\n  const ctx = canvas.getContext(\"2d\");\n  const stage = new Kinetic.Stage({\n    container: 'game-board',\n    width: 604,\n    height: 524,\n  });\n  const game = new Game();\n  const board = new BoardView(stage, game, ctx);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","const OrbObject = require('./orb_object.js');\n\n// 356 356 35697 45752 1241\n\nclass BoardView {\n  constructor(stage, gameBoard, ctx) {\n    this.stage = stage;\n    this.gameBoard = gameBoard;\n    this.ctx = ctx;\n    this.orbs = [[], [], [], [], []];\n    this.orbCanvases = {};\n    this.moving = false;\n    this.setupBoard();\n    window.orbs = this.orbCanvases;\n    this.renderImages();\n    window.stage = this.stage;\n    window.orbMove = new Audio('coin5.mp3');\n    window.movedOrbs = [];\n    window.clicked = false;\n    window.orbArray = this.orbs;\n    window.findMatches = this.findMatches;\n    window.matchOrbs = this.matchOrbs;\n    window.dropOrbs = this.dropOrbs;\n    window.checkMatch = this.checkMatch;\n    window.handleMouseDown = this.handleMouseDown;\n    window.handleMouseUp = this.handleMouseUp;\n  }\n\n  renderImages () {\n\n    this.orbData = this.orbData = [].concat.apply([], this.orbs);\n\n    for (let orb = 0; orb < this.orbData.length; orb++) {\n      this.createImage(this.orbData[orb], orb);\n    }\n  }\n\n  setupBoard () {\n    for (let colIdx = 0; colIdx < 5; colIdx++) {\n      this.addRow(colIdx);\n    }\n    this.renderBoard();\n  }\n\n  addRow (colIdx) {\n    for (let rowIdx = 0; rowIdx < 6; rowIdx++) {\n      let orbType = Math.round(Math.random() * 5);\n      let src;\n      let orbColor;\n\n      if (orbType === 0) {\n          orbType = \"orb-fire\";\n          src = \"./img/fire-pin.png\";\n          orbColor = \"#990000\";\n        } else if (orbType === 1) {\n          orbType = \"orb-water\";\n          src = \"./img/water-pin.png\";\n          orbColor = \"#112288\";\n        } else if (orbType === 2) {\n          orbType = \"orb-wood\";\n          src = \"./img/wood-pin.png\";\n          orbColor = \"#005544\";\n        } else if (orbType === 3) {\n          orbType = \"orb-light\";\n          src = \"./img/light-pin.png\";\n          orbColor = \"#776611\";\n        } else if (orbType === 4) {\n          orbType = \"orb-dark\";\n          src = \"./img/dark-pin.png\";\n          orbColor = \"#772299\";\n        } else {\n          orbType = \"orb-heart\";\n          src = \"./img/heart-pin.png\";\n          orbColor = \"#dd2277\";\n      }\n      let orbject = new Kinetic.Circle({\n        x: (rowIdx + 0.5) * 100, y: (colIdx + 0.5) * 100,\n        width: 100, height: 100, src: src,\n        fill: orbColor, color: orbType, draggable: true,\n        orbId: `orb${colIdx}${rowIdx}`, matched: false, matchId: 0\n      });\n      // orbject.on(\"mousedown\", this.handleMouseDown);\n      // orbject.on(\"mouseup\", this.handleMouseUp);\n      // orbject.on(\"mouseout\", this.handleMouseOut);\n      // orbject.on(\"mousemove\", this.handleMouseMove);\n\n      this.orbs[colIdx].push(orbject);\n    }\n  }\n\n  doLoad (that, layer, img, orb, pos, color) {\n    Image = new Kinetic.Image({\n      x: orb.attrs.x - 50, y: orb.attrs.y - 50,\n      width: 100, height: 100,\n      image: img, pos: pos,\n      color: color, orbId: orb.attrs.orbId,\n      draggable: true\n    });\n    layer.add(Image);\n    layer.draw();\n\n    that.orbCanvases[Image.attrs.orbId] = Image;\n\n    layer.on(\"mousedown\", that.handleMouseDown);\n    layer.on(\"mouseup\", that.handleMouseUp);\n    layer.on(\"mouseout\", that.handleMouseOut);\n    layer.on(\"mousemove\", that.handleMouseMove);\n  }\n\n  createImage(thisOrb, orb) {\n  }\n\n  renderBoard () {\n\n    for (let row = 0; row < this.orbs.length; row++) {\n      for (let orb = 0; orb < this.orbs[row].length; orb++) {\n        let layer = new Kinetic.Layer();\n\n        // layer.add(this.orbs[row][orb]);\n\n        this.stage.add(layer);\n\n        let img = new Image();\n        img.onload = this.doLoad.bind(\n          null, this,\n          layer, img,\n          this.orbs[row][orb], [row, orb],\n          this.orbs[row][orb].attrs.color\n        );\n        img.src = this.orbs[row][orb].attrs.src;\n\n      }\n    }\n  }\n\n  handleMouseDown (e) {\n    // window.clicked = !window.clicked;\n    window.currentOrb = e.target;\n    window.newX = e.target.attrs.x;\n    window.newY = e.target.attrs.y;\n    console.log(window.currentOrb);\n    // if (window.clicked) {\n      // window.currentOrb.hide();\n    // } else {\n    //   window.currentOrb.show();\n    // }\n    window.currentOrb.draw();\n  }\n\n  handleMouseUp (e, redoing) {\n    // window.currentOrb.show();\n    // window.currentOrb.draw();\n    window.currentOrb.x(window.newX);\n    window.currentOrb.y(window.newY);\n    window.currentOrb.parent.clear();\n    window.currentOrb.parent.drawScene();\n    if (redoing) {\n\n    } else {\n      window.currentOrb = undefined;\n      for (let i = 0; i < 5; i++) {\n        for (let j = 0; j < 6; j++) {\n          window.orbs[`orb${i}${j}`].parent.clear();\n          window.orbs[`orb${i}${j}`].draw();\n        }\n      }\n      window.findMatches();\n    }\n  }\n\n  handleMouseOut (e) {\n  }\n\n  handleMouseMove (e) {\n    console.log(e.target.attrs.color);\n\n    if (window.currentOrb !== undefined && (window.currentOrb.attrs.orbId !== e.target.attrs.orbId)) {\n      window.orbMove.pause();\n      window.currentTime = 0;\n      window.orbMove.play();\n\n      let targOrbX = e.target.attrs.x;\n      let targOrbY = e.target.attrs.y;\n      // This is the target orb that's being changed's value\n      // We're storing this in targOrb\n      e.target.x(window.newX);\n      e.target.y(window.newY);\n\n      e.target.parent.clear();\n      // e.target.parent.add(e.target);\n      e.target.parent.draw();\n\n      // window.movedOrbs.push(e.target);\n      // Here we have the previously set current orb's position becoming\n      // the target orb's position\n\n      window.newX = targOrbX;\n      window.newY = targOrbY;\n      window.handleMouseUp(e, true);\n\n      let x1 = window.currentOrb.attrs.pos[0];\n      let y1 = window.currentOrb.attrs.pos[1];\n\n      let x2 = e.target.attrs.pos[0];\n      let y2 = e.target.attrs.pos[1];\n\n      [window.orbArray[x1][y1], window.orbArray[x2][y2]] =\n      [window.orbArray[x2][y2], window.orbArray[x1][y1]];\n\n      window.currentOrb.attrs.pos[0] = x2;\n      window.currentOrb.attrs.pos[1] = y2;\n\n      // if (window.movedOrbs.length > 0){\n        // debugger\n      // }\n      // Now that the move is made, we can set the newX and Y to be the\n      // target orb's position once mouseup\n    }\n  }\n\n\n  findMatches () {\n    let matches = [];\n    matches = window.matchOrbs(matches);\n    while (matches.length > 0) {\n      matches = window.matchOrbs(matches);\n      matches = window.dropOrbs(matches);\n    }\n  }\n\n  matchOrbs (matches) {\n    let orb = window.orbArray;\n    let options;\n\n    for (let row = 0; row < 1; row++) {\n      for (let col = 0; col < 4; col++) {\n        options = { recurs: 0, matched: false, match_id: 0 };\n        options = window.checkMatch(orb[row][col], orb, options, row, col);\n      }\n    }\n    // for (let col = 0; col < 6; col++) {\n    //   for (let row = 0; row < 3; row++) {\n    //     let options = { recurs: 0, matched: false, match_id: 0 };\n    //     options = window.checkMatch(orb[col][row], orb, options, col, row);\n    //   }\n    // }\n    debugger\n    return matches;\n  }\n\n  checkMatch (orb, orbs, options, x, y, match = {}) {\n    options.recurs += 1;\n    if (orbs[x][y + 1] !== undefined && orb.attrs.color === orbs[x][y + 1].attrs.color) {\n      if (options.recurs >= 2) {\n        options.matched = true;\n        orbs[x][y].attrs.matched = true;\n      }\n      console.log(\"LOL WTF!\");\n      options = checkMatch(orbs[x][y + 1], orbs, options, x, y + 1, match);\n    }\n    if (options.matched) {\n      match[orb.attrs.orbId] = orb;\n      debugger\n    }\n    console.log(`II: orbID: ${orb.attrs.orbId} recursion: ${options.recurs}`);\n    if (options.match === undefined) {\n      options.match = match;\n    }\n    return options;\n  }\n\n  dropOrbs () {\n\n  }\n}\n\n\nmodule.exports = BoardView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/pac-view.js\n ** module id = 1\n ** module chunks = 0\n **/","\nclass OrbObject {\n  constructor(params) {\n    this.pos = params.pos;\n    this.color = params.color;\n    this.img = params.img;\n    this.dragging = false;\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nmodule.exports = OrbObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/orb_object.js\n ** module id = 2\n ** module chunks = 0\n **/","const Board = require(\"./board\");\n\nfunction Game () {\n  this.board = new Board();\n}\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 3\n ** module chunks = 0\n **/","\nfunction Board () {\n  this.grid = Board.makeGrid();\n}\n\nBoard.makeGrid = function() {\n  return [];\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}